if( NOT __MULLE_ALLOCATOR_CMAKE_DEPENDENCIES_TXT__)
   set( __MULLE_ALLOCATOR_CMAKE_DEPENDENCIES_TXT__ ON)

   message( STATUS "# Include mulle-allocator CMakeDependencies.txt")

   include( ${DEPENDENCIES_DIR}/include/mulle_thread/CMakeDependencies.txt)

   if( NOT MULLE_ALLOCATOR_LIBRARY)
      find_library( MULLE_ALLOCATOR_LIBRARY NAMES mulle_allocator)
      message(STATUS "MULLE_ALLOCATOR_LIBRARY is ${MULLE_ALLOCATOR_LIBRARY}")
      set( C_DEPENDENCY_LIBRARIES
         ${MULLE_ALLOCATOR_LIBRARY}
         ${C_DEPENDENCY_LIBRARIES}
         CACHE INTERNAL "need to cache this"
      )
   endif()

   if( NOT MULLE_TEST_ALLOCATOR_LIBRARY)
      find_library( MULLE_TEST_ALLOCATOR_LIBRARY NAMES mulle_test_allocator)
      message(STATUS "MULLE_TEST_ALLOCATOR_LIBRARY is ${MULLE_TEST_ALLOCATOR_LIBRARY}")
      set( C_DEPENDENCY_LIBRARIES
         ${MULLE_TEST_ALLOCATOR_LIBRARY}
         ${C_DEPENDENCY_LIBRARIES}
         CACHE INTERNAL "need to cache this"
      )
   endif()

   if( MSVC)
      set( MULLE_ALLOCATOR_DEFINITIONS
         ${MULLE_THREAD_DEFINITIONS}
         "-DMULLE_ALLOCATOR_EXTERN_GLOBAL=extern"
      )
      message( STATUS "MULLE_ALLOCATOR_DEFINITIONS = ${MULLE_ALLOCATOR_DEFINITIONS}")
   endif()
endif()
